module M {
    foo<T: resource>(x: T) {
        let y: T;
        y = copy(x);
        return;
    }
}

// check: COPYLOC_RESOURCE_ERROR

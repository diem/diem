// Tests for parsing of postconditions

// Test parsing the ensures clause, but not the expression language for ensures
//! no-run: runtime
module TestEnsuresClause {

  resource T { i: u64 }

  public ensures_alone()
  ensures true {
      return;
  }

  public ensures_with_return(): bool
  ensures true {
      return true;
  }

  public ensures_with_acquires()
  acquires T
  ensures true {
      _ = borrow_global<T>(0x0);
      return;
  }

  public ensures_with_return_acquires(): bool
  acquires T
  ensures true {
      _ = borrow_global<T>(0x0);
      return true;
  }

  public multiple_ensures()
  ensures 7 == 7
  ensures 7 > 6
  ensures true {
      return;
  }

}

// TODO: check that we can parse the language of ensures expressions
